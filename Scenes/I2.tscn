[gd_scene load_steps=43 format=3 uid="uid://b8oq2my2j5qbw"]

[ext_resource type="PackedScene" uid="uid://0mrouwnaqixr" path="res://Scenes/1stplayer.tscn" id="1_uo7xa"]
[ext_resource type="Texture2D" uid="uid://d1hs0cmti0cs3" path="res://textures/white-painted-brick-stretcher-5197-in-architextures.jpg" id="2_qej70"]
[ext_resource type="Texture2D" uid="uid://kdjouc07yand" path="res://Images/door.png" id="3_4erp6"]
[ext_resource type="Script" uid="uid://du4bb0fbrvji5" path="res://Scripts/I2DoorBack.gd" id="4_fk2g4"]
[ext_resource type="Script" uid="uid://u64e01w687ho" path="res://Scripts/I2DoorForward.gd" id="5_tqtuj"]
[ext_resource type="PackedScene" uid="uid://xj3wru2rxhun" path="res://Objects/ps1_cctv_camera/scene.gltf" id="6_0lkpx"]
[ext_resource type="PackedScene" uid="uid://bp6f7ougwgxe4" path="res://Objects/teacher_desk/scene.gltf" id="7_y7vj3"]
[ext_resource type="PackedScene" uid="uid://rtqmyy4adt1h" path="res://Objects/ef8ba8e14e314e1dbce36e73be47bcad/scene.gltf" id="8_81m0a"]
[ext_resource type="PackedScene" uid="uid://b25xyf61qm4it" path="res://Scenes/I1noplayer.tscn" id="9_1ryoj"]
[ext_resource type="Texture2D" uid="uid://bbhbcaw0iut8a" path="res://textures/black-rain-abstract-dark-power.jpg" id="10_qej70"]
[ext_resource type="Texture2D" uid="uid://bll6vqx76yduv" path="res://textures/coast_sand_rocks_02_diff_4k.jpg" id="11_4erp6"]
[ext_resource type="Script" uid="uid://dtxy2k4e507en" path="res://Scenes/lightning.gd" id="12_fk2g4"]
[ext_resource type="AudioStream" uid="uid://dcgbjh5ju6hoq" path="res://thunder-cracking-ftus-1-00-36.wav" id="13_tqtuj"]

[sub_resource type="PlaneMesh" id="PlaneMesh_ylsfi"]
size = Vector2(20, 10)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_aa2d3"]
points = PackedVector3Array(-10, 0, -5, -10, 0, 5, 10, 0, -5, 10, 0, 5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5d3c1"]
albedo_texture = ExtResource("2_qej70")

[sub_resource type="PlaneMesh" id="PlaneMesh_aa2d3"]
material = SubResource("StandardMaterial3D_5d3c1")
size = Vector2(20, 4)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_ylsfi"]
points = PackedVector3Array(-10, 0, -2, -10, 0, 2, 10, 0, -2, 10, 0, 2)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_nr0xh"]
albedo_texture = ExtResource("2_qej70")

[sub_resource type="PlaneMesh" id="PlaneMesh_5d3c1"]
material = SubResource("StandardMaterial3D_nr0xh")
size = Vector2(20, 4)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_nr0xh"]
points = PackedVector3Array(-10, 0, -2, -10, 0, 2, 10, 0, -2, 10, 0, 2)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hpkq0"]
albedo_texture = ExtResource("2_qej70")

[sub_resource type="PlaneMesh" id="PlaneMesh_hpkq0"]
material = SubResource("StandardMaterial3D_hpkq0")
size = Vector2(10, 4)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_3j1i7"]
points = PackedVector3Array(-5, 0, -2, -5, 0, 2, 5, 0, -2, 5, 0, 2)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3j1i7"]
albedo_texture = ExtResource("2_qej70")

[sub_resource type="PlaneMesh" id="PlaneMesh_n6nh0"]
material = SubResource("StandardMaterial3D_3j1i7")
size = Vector2(10, 4)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_n6nh0"]
albedo_texture = ExtResource("3_4erp6")

[sub_resource type="PlaneMesh" id="PlaneMesh_dj1h0"]
material = SubResource("StandardMaterial3D_n6nh0")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_hpkq0"]
points = PackedVector3Array(-1, 0, -1, -1, 0, 1, 1, 0, -1, 1, 0, 1)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_n6nh0"]
points = PackedVector3Array(-1, 0, -1, -1, 0, 1, 1, 0, -1, 1, 0, 1)

[sub_resource type="ViewportTexture" id="ViewportTexture_nr0xh"]
viewport_path = NodePath("SubViewport2")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_1wpjv"]
albedo_texture = ExtResource("2_qej70")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dj1h0"]
albedo_color = Color(0.164706, 1, 1, 1)

[sub_resource type="BoxMesh" id="BoxMesh_1wpjv"]
material = SubResource("StandardMaterial3D_dj1h0")
size = Vector3(0.08, 0.08, 0.08)

[sub_resource type="ViewportTexture" id="ViewportTexture_o1mue"]
viewport_path = NodePath("SubViewport")

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_4erp6"]
panorama = ExtResource("10_qej70")

[sub_resource type="Sky" id="Sky_fk2g4"]
sky_material = SubResource("PanoramaSkyMaterial_4erp6")

[sub_resource type="Environment" id="Environment_tqtuj"]
background_mode = 2
background_energy_multiplier = 0.89
sky = SubResource("Sky_fk2g4")
volumetric_fog_enabled = true
volumetric_fog_density = 0.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fk2g4"]
albedo_texture = ExtResource("11_4erp6")

[sub_resource type="BoxMesh" id="BoxMesh_qej70"]

[sub_resource type="BoxShape3D" id="BoxShape3D_4erp6"]

[sub_resource type="FogMaterial" id="FogMaterial_fk2g4"]
density = 5.0093
emission = Color(0.277528, 0.277528, 0.277528, 1)

[node name="Node3D" type="Node3D"]

[node name="SubViewport" type="SubViewport" parent="."]

[node name="Camera3D" type="Camera3D" parent="SubViewport"]
transform = Transform3D(-0.608709, 0.213565, -0.76411, -0.0408377, 0.95338, 0.298998, 0.792342, 0.213207, -0.571609, -57.3601, 3.68692, 1.79189)
current = true

[node name="SubViewport2" type="SubViewport" parent="."]

[node name="Camera3D" type="Camera3D" parent="SubViewport2"]
transform = Transform3D(0.909801, -0.0710406, 0.40892, -0.0127391, 0.979999, 0.198596, -0.414849, -0.185892, 0.890699, 4.36677, 3.68692, 9.50041)
current = true

[node name="Floor" type="MeshInstance3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
mesh = SubResource("PlaneMesh_ylsfi")

[node name="StaticBody3D" type="StaticBody3D" parent="Floor"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_aa2d3")

[node name="Ceiling" type="MeshInstance3D" parent="."]
transform = Transform3D(4.37114e-08, -3.82137e-15, 1, -8.74228e-08, -1, 0, 1, -8.74228e-08, -4.37114e-08, 0, 4, 0)
mesh = SubResource("PlaneMesh_ylsfi")

[node name="StaticBody3D" type="StaticBody3D" parent="Ceiling"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ceiling/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_aa2d3")

[node name="Player" parent="." instance=ExtResource("1_uo7xa")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0711832, 0, 7.74694)

[node name="Wall1" type="MeshInstance3D" parent="."]
transform = Transform3D(1.31134e-07, -1, 8.29919e-15, 4.37114e-08, 1.91069e-15, -2.17178, 1, 1.31134e-07, 9.49317e-08, 5, 2, 0)
visible = false
mesh = SubResource("PlaneMesh_aa2d3")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall1"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall1/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_ylsfi")

[node name="Wall2" type="MeshInstance3D" parent="."]
transform = Transform3D(-4.37114e-08, 1, 0, 4.37114e-08, 1.91069e-15, 2.172, 1, 4.37114e-08, -9.49411e-08, -5, 2, 0)
mesh = SubResource("PlaneMesh_5d3c1")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall2/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_nr0xh")

[node name="Wall3" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 2.172, 0, -1, -9.49411e-08, 0, 2, 10)
mesh = SubResource("PlaneMesh_hpkq0")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall3/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_3j1i7")

[node name="Wall4" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -2.172, 0, 1, -9.49411e-08, 0, 2, -10)
mesh = SubResource("PlaneMesh_n6nh0")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.85436, 0)
light_color = Color(0.835294, 1, 1, 1)

[node name="OmniLight3D6" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.74257, 3.85436, 0)
light_color = Color(0.835294, 1, 1, 1)

[node name="OmniLight3D7" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.38273, 3.85436, 0)
light_color = Color(0.835294, 1, 1, 1)

[node name="OmniLight3D3" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00055933, 3.86088, 5.35011)
light_color = Color(0.835294, 1, 1, 1)
light_size = 1.0
light_bake_mode = 1

[node name="OmniLight3D8" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.60328, 3.86088, 5.35011)
light_color = Color(0.835294, 1, 1, 1)
light_size = 1.0
light_bake_mode = 1

[node name="OmniLight3D9" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.78176, 3.86088, 5.35011)
light_color = Color(0.835294, 1, 1, 1)
light_size = 1.0
light_bake_mode = 1

[node name="OmniLight3D2" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.85436, -5.51964)
light_color = Color(0.835294, 1, 1, 1)

[node name="OmniLight3D5" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.23421, 3.85436, -5.53424)
light_color = Color(0.835294, 1, 1, 1)

[node name="OmniLight3D4" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.06949, 3.85436, -5.51964)
light_color = Color(0.835294, 1, 1, 1)

[node name="DoorBack" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 1.19209e-07, -6.31518e-08, 4.21012e-08, 2.35097e-08, -1.5, -5.96046e-08, -2, -1.76323e-08, 0.013, 1.488, 9.941)
mesh = SubResource("PlaneMesh_dj1h0")

[node name="StaticBody3D" type="StaticBody3D" parent="DoorBack"]
script = ExtResource("4_fk2g4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DoorBack/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_hpkq0")

[node name="DoorForward" type="MeshInstance3D" parent="."]
transform = Transform3D(-4.37114e-08, -2, 6.55671e-08, 0, -8.74228e-08, -1.5, 1, -8.74228e-08, 2.86603e-15, 4.8861, 1.488, 2.47104)
mesh = SubResource("PlaneMesh_dj1h0")

[node name="StaticBody3D" type="StaticBody3D" parent="DoorForward"]
script = ExtResource("5_tqtuj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DoorForward/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_n6nh0")

[node name="Sketchfab_Scene" parent="." instance=ExtResource("6_0lkpx")]
transform = Transform3D(0.127536, 0, -0.15406, 0, 0.2, 0, 0.15406, 0, 0.127536, 4.64919, 3.8059, 9.67212)

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(-0.180649, 0, -0.0688342, 0, 0.128652, 0, 0.0653939, 0, -0.190152, 4.09148, 1.82667, -2.34799)
texture = SubResource("ViewportTexture_nr0xh")

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.00246091, 2.17199, 0, -0.999997, 0.0053451, 5, 2, 0)
size = Vector3(0.01, 20, 4)
material = SubResource("StandardMaterial3D_1wpjv")

[node name="CSGBox3D" type="CSGBox3D" parent="CSGBox3D"]
transform = Transform3D(0.870933, 0, 0, 0, 1, 0, 0, 0, 1, 0.00594616, -6.10829, -0.0516209)
operation = 2
size = Vector3(0.0380859, 2.11682, 1)

[node name="CPUParticles3D" type="CPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 4.12983, 9.42032, 13.2114, 6.07376)
amount = 100
lifetime = 1.87
mesh = SubResource("BoxMesh_1wpjv")
emission_shape = 1
emission_sphere_radius = 2.34
anim_speed_min = 2.27
anim_speed_max = 2.27

[node name="Sketchfab_Scene2" parent="." instance=ExtResource("7_y7vj3")]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 3.30984, 4.45097e-07, -2.12398)

[node name="Sketchfab_Scene3" parent="." instance=ExtResource("8_81m0a")]
transform = Transform3D(-2.82174, 0, -1.01873, 0, 3, 0, 1.01873, 0, -2.82174, 4.21029, 1.77147, -1.89194)

[node name="Sketchfab_Scene4" parent="." instance=ExtResource("8_81m0a")]
transform = Transform3D(-2.94026, 0, 0.595692, 0, 3, 0, -0.595692, 0, -2.94026, 2.63573, 1.77147, -1.89194)

[node name="Sprite3D2" type="Sprite3D" parent="."]
transform = Transform3D(-0.178194, 0, 0.228337, 0, 0.150542, 0, -0.036254, 0, -1.12231, 2.80887, 1.81969, -2.28815)
texture = SubResource("ViewportTexture_o1mue")

[node name="Node3D" parent="." instance=ExtResource("9_1ryoj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -51.3815, -9.53674e-07, 9.53109)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_tqtuj")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(9.01312, 0, 0, 0, 1.23502, 0, 0, 0, 18.7396, 9.56478, -1.44981, 5.89194)
material_override = SubResource("StandardMaterial3D_fk2g4")
mesh = SubResource("BoxMesh_qej70")

[node name="Area3D" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.1008, 0, 0)
shape = SubResource("BoxShape3D_4erp6")

[node name="FogVolume" type="FogVolume" parent="Area3D"]
transform = Transform3D(516.321, 0, 0, 0, 2.37612, 0, 0, 0, 4.86966, 10.8353, 5.24408, 6.21197)
size = Vector3(0.01, 8.02258, 15.3937)
material = SubResource("FogMaterial_fk2g4")

[node name="Lightning" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.999478, -0.000605757, -0.0323123, 0.0323179, 0.0187339, 0.999302, 4.42034e-10, -0.999824, 0.0187437, 84.086, 5.06496, -91.382)
visible = false
light_energy = 4.201
light_indirect_energy = 1.323
light_volumetric_fog_energy = 0.0
script = ExtResource("12_fk2g4")

[node name="Timer" type="Timer" parent="Lightning"]
wait_time = 6.056
autostart = true

[node name="ThunderSound" type="AudioStreamPlayer3D" parent="Lightning"]
stream = ExtResource("13_tqtuj")
